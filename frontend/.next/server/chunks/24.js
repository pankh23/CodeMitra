exports.id=24,exports.ids=[24],exports.modules={2658:()=>{},7377:()=>{},5169:(e,t,o)=>{Promise.resolve().then(o.bind(o,2768))},2269:(e,t,o)=>{Promise.resolve().then(o.t.bind(o,3817,23)),Promise.resolve().then(o.t.bind(o,9323,23)),Promise.resolve().then(o.t.bind(o,2204,23)),Promise.resolve().then(o.t.bind(o,820,23)),Promise.resolve().then(o.t.bind(o,5915,23)),Promise.resolve().then(o.t.bind(o,1611,23))},2768:(e,t,o)=>{"use strict";o.d(t,{Providers:()=>n});var r=o(9899);o(5507);var a=o(832),i=o(9312),s=o(7009),l=o(9411);function n({children:e}){return r.jsx(i.Ho,{children:r.jsx(s.w,{children:(0,r.jsxs)(l.k,{children:[e,r.jsx(a.x7,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{style:{background:"#10b981"}},error:{style:{background:"#ef4444"}}}})]})})})}},9312:(e,t,o)=>{"use strict";o.d(t,{Ho:()=>u,aC:()=>c,hi:()=>m});var r=o(9899),a=o(5507),i=o(6153),s=o(6294),l=o(9285),n=o(832);let d=(0,a.createContext)(void 0);function u({children:e}){let[t,o]=(0,a.useState)(null),[u,c]=(0,a.useState)(null),[m,p]=(0,a.useState)(!0),h=(0,i.useRouter)(),g=async(e,t)=>{try{p(!0);let{token:r,user:a}=(await s.Z.post("/api/auth/login",{email:e,password:t})).data;l.Z.set("token",r,{expires:7}),l.Z.set("user",JSON.stringify(a),{expires:7}),c(r),o(a),n.ZP.success("Login successful!"),h.push("/dashboard")}catch(t){let e=t.response?.data?.error||"Login failed";throw n.ZP.error(e),t}finally{p(!1)}},v=async(e,t,r)=>{try{p(!0);let{token:a,user:i}=(await s.Z.post("/api/auth/register",{email:e,password:t,name:r})).data;l.Z.set("token",a,{expires:7}),l.Z.set("user",JSON.stringify(i),{expires:7}),c(a),o(i),n.ZP.success("Registration successful!"),h.push("/dashboard")}catch(t){let e=t.response?.data?.error||"Registration failed";throw n.ZP.error(e),t}finally{p(!1)}};return r.jsx(d.Provider,{value:{user:t,token:u,isLoading:m,login:g,register:v,logout:()=>{l.Z.remove("token"),l.Z.remove("user"),c(null),o(null),n.ZP.success("Logged out successfully"),h.push("/")},updateUser:e=>{if(t){let r={...t,...e};o(r),l.Z.set("user",JSON.stringify(r),{expires:7})}}},children:e})}function c(){let e=(0,a.useContext)(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}s.Z.defaults.baseURL="http://localhost:5001",s.Z.defaults.timeout=1e4,s.Z.interceptors.request.use(e=>{let t=l.Z.get("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),s.Z.interceptors.response.use(e=>e,e=>{if(e.response?.status===401){let t=e.response?.data?.error||"";if(t.includes("Room requires a password")||t.includes("Invalid room password")||t.includes("Room not found")||t.includes("Room is full"))return console.log("\uD83D\uDD12 Business logic error, not logging out:",t),Promise.reject(e);console.log("\uD83D\uDEA8 Authentication error, logging out:",t),l.Z.remove("token"),l.Z.remove("user"),window.location.href="/"}return Promise.reject(e)});let m={get:async e=>(await s.Z.get(e)).data,post:async(e,t)=>(await s.Z.post(e,t)).data,put:async(e,t)=>(await s.Z.put(e,t)).data,delete:async e=>(await s.Z.delete(e)).data}},9411:(e,t,o)=>{"use strict";o.d(t,{N:()=>u,k:()=>d});var r=o(9899),a=o(5507),i=o(7009),s=o(9312),l=o(832);let n=(0,a.createContext)(void 0);function d({children:e}){let[t,o]=(0,a.useState)(null),[d,u]=(0,a.useState)([]),[c,m]=(0,a.useState)(!1),[p,h]=(0,a.useState)(null),[g,v]=(0,a.useState)(""),[f,y]=(0,a.useState)("javascript"),[w,P]=(0,a.useState)(""),[C,x]=(0,a.useState)(""),[Z,b]=(0,a.useState)(!1),{user:S}=(0,s.aC)(),{socket:j,joinRoom:R,leaveRoom:D,updateCode:k,executeCode:M,isConnected:$}=(0,i.s)(),A=async e=>{try{m(!0),h(null);let t=(await s.hi.post("/api/rooms",e)).data;return u(e=>[t,...e]),o(t),v(t.code||""),y(t.language||"javascript"),P(t.input||""),x(t.output||""),$&&j&&(console.log("\uD83D\uDD0C Auto-joining socket room after creation:",t.id),R(t.id)),l.ZP.success(`Room "${t.name}" created successfully! Room Code: ${t.id}`),t}catch(t){let e=t.response?.data?.error||"Failed to create room";throw h(e),l.ZP.error(e),t}finally{m(!1)}},N=async(e,t,r)=>{try{m(!0),h(null),console.log("\uD83D\uDE80 Joining room:",e,"with password:",t?"YES":"NO");let a=await s.hi.post("/api/rooms/join",{roomId:e,password:t});console.log("✅ Room join response:",a.data);let i=(await s.hi.get(`/api/rooms/${e}`)).data;o(i),R(e),console.log("\uD83C\uDF89 Successfully joined room and set as current"),r&&(console.log("\uD83E\uDDED Navigating to room editor:",`/room/${e}/editor`),r.push(`/room/${e}/editor`))}catch(t){console.error("❌ Error joining room:",t);let e=t.response?.data?.error||"Failed to join room";throw h(e),l.ZP.error(e),t}finally{m(!1)}},E=async e=>{try{m(!0),h(null),await s.hi.post(`/api/rooms/${e}/leave`,{}),D(e),o(null),v(""),P(""),x("")}catch(t){let e=t.response?.data?.error||"Failed to leave room";throw h(e),l.ZP.error(e),t}finally{m(!1)}},F=async(e,r)=>{try{m(!0),h(null);let a=(await s.hi.put(`/api/rooms/${e}`,r)).data;return u(t=>t.map(t=>t.id===e?a:t)),t?.id===e&&o(a),l.ZP.success("Room updated successfully"),a}catch(t){let e=t.response?.data?.error||"Failed to update room";throw h(e),l.ZP.error(e),t}finally{m(!1)}},L=async e=>{try{m(!0),h(null),await s.hi.delete(`/api/rooms/${e}`),u(t=>t.filter(t=>t.id!==e)),t?.id===e&&o(null),l.ZP.success("Room deleted successfully")}catch(t){let e=t.response?.data?.error||"Failed to delete room";throw h(e),l.ZP.error(e),t}finally{m(!1)}},O=async(e={})=>{try{m(!0),h(null);let t=new URLSearchParams;e.page&&t.append("page",e.page.toString()),e.limit&&t.append("limit",e.limit.toString()),e.search&&t.append("search",e.search),e.language&&t.append("language",e.language),void 0!==e.isPublic&&t.append("isPublic",e.isPublic.toString());let o=await s.hi.get(`/api/rooms?${t.toString()}`);u(o.data.rooms)}catch(t){let e=t.response?.data?.error||"Failed to fetch rooms";throw h(e),l.ZP.error(e),t}finally{m(!1)}},I=async e=>{try{return m(!0),h(null),(await s.hi.get(`/api/rooms/${e}`)).data}catch(t){let e=t.response?.data?.error||"Failed to fetch room";throw h(e),l.ZP.error(e),t}finally{m(!1)}};return r.jsx(n.Provider,{value:{currentRoom:t,rooms:d,isLoading:c,error:p,createRoom:A,joinRoom:N,leaveRoom:E,updateRoom:F,deleteRoom:L,getRooms:O,getRoom:I,setCurrentRoom:o,code:g,language:f,input:w,output:C,isExecuting:Z,setCode:e=>{v(e),t&&j&&k(t.id,e)},setLanguage:e=>{y(e),t&&j&&k(t.id,g,e)},setInput:e=>{P(e),t&&j&&j.emit("code:input-update",{roomId:t.id,input:e})},setOutput:x,executeCode:()=>{t&&j&&(b(!0),M(t.id,g,f,w))}},children:e})}function u(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useRoom must be used within a RoomProvider");return e}},7009:(e,t,o)=>{"use strict";o.d(t,{s:()=>n,w:()=>l});var r=o(9899),a=o(5507);o(6122);var i=o(9312);o(832);let s=(0,a.createContext)(void 0);function l({children:e}){let[t,o]=(0,a.useState)(null),[l,n]=(0,a.useState)(!1),{token:d,user:u}=(0,i.aC)();return r.jsx(s.Provider,{value:{socket:t,isConnected:l,joinRoom:e=>{t&&t.emit("room:join",{roomId:e})},leaveRoom:e=>{t&&t.emit("room:leave",{roomId:e})},sendMessage:(e,o)=>{t&&t.emit("chat:send-message",{roomId:e,content:o})},updateCode:(e,o,r)=>{t&&t.emit("code:update",{roomId:e,code:o,language:r})},executeCode:(e,o,r,a)=>{t&&t.emit("code:execute",{roomId:e,code:o,language:r,input:a})},updateInput:(e,o)=>{t&&t.emit("code:input-update",{roomId:e,input:o})},updateCursor:(e,o)=>{t&&t.emit("code:cursor-update",{roomId:e,position:o})},updateSelection:(e,o)=>{t&&t.emit("code:selection-update",{roomId:e,selection:o})},startTyping:e=>{t&&t.emit("chat:typing-start",{roomId:e})},stopTyping:e=>{t&&t.emit("chat:typing-stop",{roomId:e})},joinVideoCall:e=>{t&&t.emit("video:join-call",{roomId:e})},leaveVideoCall:e=>{t&&t.emit("video:leave-call",{roomId:e})},sendVideoOffer:(e,o,r)=>{t&&t.emit("video:offer",{roomId:e,targetUserId:o,offer:r})},sendVideoAnswer:(e,o,r)=>{t&&t.emit("video:answer",{roomId:e,targetUserId:o,answer:r})},sendIceCandidate:(e,o,r)=>{t&&t.emit("video:ice-candidate",{roomId:e,targetUserId:o,candidate:r})},toggleMute:(e,o)=>{t&&t.emit("video:toggle-mute",{roomId:e,isMuted:o})},toggleVideo:(e,o)=>{t&&t.emit("video:toggle-video",{roomId:e,isVideoOff:o})},startScreenShare:e=>{t&&t.emit("video:start-screen-share",{roomId:e})},stopScreenShare:e=>{t&&t.emit("video:stop-screen-share",{roomId:e})}},children:e})}function n(){let e=(0,a.useContext)(s);if(void 0===e)throw Error("useSocket must be used within a SocketProvider");return e}},497:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n,metadata:()=>l});var r=o(5023),a=o(1661),i=o.n(a);o(8003),o(8132);let s=(0,o(2772).createProxy)(String.raw`/Users/piyush/Projects/CodeMitra/frontend/src/app/providers.tsx#Providers`),l={title:"CodeMitra - Real-time Collaborative Compiler",description:"A real-time collaborative compiler with video calls, chat, and secure rooms",keywords:["code","compiler","collaboration","real-time","programming"],authors:[{name:"CodeMitra Team"}],creator:"CodeMitra Team",publisher:"CodeMitra",formatDetection:{email:!1,address:!1,telephone:!1},metadataBase:new URL("http://localhost:3000"),openGraph:{type:"website",siteName:"CodeMitra",title:"CodeMitra - Real-time Collaborative Compiler",description:"A real-time collaborative compiler with video calls, chat, and secure rooms",images:[{url:"/og-image.png",width:1200,height:630,alt:"CodeMitra - Real-time Collaborative Compiler"}]},twitter:{card:"summary_large_image",title:"CodeMitra - Real-time Collaborative Compiler",description:"A real-time collaborative compiler with video calls, chat, and secure rooms",images:["/og-image.png"]},robots:{index:!0,follow:!0,googleBot:{index:!0,follow:!0,"max-video-preview":-1,"max-image-preview":"large","max-snippet":-1}}};function n({children:e}){return r.jsx("html",{lang:"en",suppressHydrationWarning:!0,children:r.jsx("body",{className:i().className,children:r.jsx(s,{children:r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e})})})})}},8132:()=>{}};